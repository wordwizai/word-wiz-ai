# Phoneme-to-Grapheme Alignment: Visual Guide

## ğŸ¯ The Problem

```
Current System:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User says: "rown" (missed 'b' in "brown")      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Backend detects:                                â”‚
â”‚  - Expected: /b/ /r/ /aÊŠ/ /n/                   â”‚
â”‚  - Detected: /r/ /aÊŠ/ /n/ /d/                   â”‚
â”‚  - Missed: /b/                                   â”‚
â”‚  - Added: /d/                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend displays:                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”‚
â”‚  â”‚  brown   â”‚  â† Just colored orange (PER 0.4)  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â”‚
â”‚                                                  â”‚
â”‚  âŒ User doesn't know which letter is wrong!    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âœ… The Solution

```
New System with P2G Alignment:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User says: "rown" (missed 'b' in "brown")      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Backend detects + aligns:                       â”‚
â”‚                                                  â”‚
â”‚  Word: "brown"                                   â”‚
â”‚  Graphemes: ["b", "r", "ow", "n"]              â”‚
â”‚                                                  â”‚
â”‚  Phoneme alignment:                              â”‚
â”‚    "b"  â†’ /b/ (MISSED âŒ)                       â”‚
â”‚    "r"  â†’ /r/ (CORRECT âœ“)                       â”‚
â”‚    "ow" â†’ /aÊŠ/ (CORRECT âœ“)                     â”‚
â”‚    "n"  â†’ /n/ (CORRECT âœ“)                       â”‚
â”‚    [phantom] â†’ /d/ (ADDED ğŸ‘»)                   â”‚
â”‚                                                  â”‚
â”‚  grapheme_errors: {                              â”‚
â”‚    0: {type: "missed", phoneme: "b"}            â”‚
â”‚    -1: {type: "added", phoneme: "d"}            â”‚
â”‚  }                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend displays:                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”                       â”‚
â”‚  â”‚ b  â”‚ r â”‚ ow â”‚ n â”‚?d â”‚                       â”‚
â”‚  â”‚ ğŸ”´ â”‚   â”‚    â”‚   â”‚ğŸ‘» â”‚                       â”‚
â”‚  â””â”€â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜                       â”‚
â”‚   â†‘                    â†‘                        â”‚
â”‚   Red highlight     Green dashed (phantom)      â”‚
â”‚                                                  â”‚
â”‚  Tooltip: "You missed the 'b' sound"           â”‚
â”‚                                                  â”‚
â”‚  âœ… User knows exactly what went wrong!         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ The Alignment Algorithm

### Step 1: Segment Word into Graphemes

```
Input:  word = "ship"
        expected_phonemes = [/Êƒ/, /Éª/, /p/]

Process:
  s-h-i-p
  â””â”€â”˜       Check: "sh" is a digraph â†’ keep together
    â””â”€â”€â”€    Check: "i" is single vowel â†’ single grapheme
      â””â”€â”€   Check: "p" is single consonant â†’ single grapheme

Output: graphemes = ["sh", "i", "p"]
```

### Step 2: Map Graphemes to Phonemes

```
graphemes:        ["sh", "i",  "p"]
                    â†“     â†“     â†“
expected_phonemes: [/Êƒ/, /Éª/, /p/]

mapping: {
  0: 0,  // "sh" â†’ /Êƒ/
  1: 1,  // "i"  â†’ /Éª/
  2: 2,  // "p"  â†’ /p/
}
```

### Step 3: Detect Phoneme Errors

```
expected: [/Êƒ/, /Éª/, /p/]
detected: [     /Éª/, /p/]
           â†‘
           Missing!

errors:
  - missed: [/Êƒ/]
  - added: []
  - substituted: []
```

### Step 4: Map Errors to Grapheme Positions

```
missed: [/Êƒ/]
         â†“ (phoneme index 0)
mapping: {0: 0}  // phoneme 0 â†’ grapheme 0
         â†“
grapheme_errors: {
  0: {
    type: "missed",
    phoneme: "Êƒ",
    grapheme: "sh"
  }
}
```

### Step 5: Frontend Display

```
graphemes:       ["sh", "i",  "p"]
grapheme_errors: {0: {...}}
                  â†“
Display:
  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
  â”‚ sh â”‚ i â”‚ p â”‚
  â”‚ ğŸ”´ â”‚   â”‚   â”‚  â† Red highlight on "sh"
  â””â”€â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
  
Tooltip on hover: "You missed the 'sh' sound (/Êƒ/)"
```

---

## ğŸ“Š Complex Examples

### Example 1: Vowel Team with Substitution

```
Word: "rain"
Expected: [/r/, /eÉª/, /n/]
Detected: [/r/, /É›/,  /n/]  â† Said /É›/ instead of /eÉª/

Graphemes: ["r", "ai", "n"]
           
Alignment:
  "r"  â†’ /r/ (CORRECT âœ“)
  "ai" â†’ /eÉª/ but detected /É›/ (SUBSTITUTED âš ï¸)
  "n"  â†’ /n/ (CORRECT âœ“)

grapheme_errors: {
  1: {
    type: "substituted",
    expected_phoneme: "eÉª",
    detected_phoneme: "É›",
    grapheme: "ai"
  }
}

Display:
  â”Œâ”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”
  â”‚ r â”‚ ai â”‚ n â”‚
  â”‚   â”‚ ğŸŸ  â”‚   â”‚  â† Orange highlight on "ai"
  â””â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”˜
```

### Example 2: Silent Letter

```
Word: "knight"
Expected: [/n/, /aÉª/, /t/]  â† No /k/ phoneme!
Detected: [     /aÉª/, /t/]  â† Missed /n/

Graphemes: ["k", "n", "igh", "t"]
            â†‘    â†‘     â†‘      â†‘
         silent  |   vowel   |
                 |    team    |
            
Alignment:
  "k"   â†’ (silent, no phoneme)
  "n"   â†’ /n/ (MISSED âŒ)
  "igh" â†’ /aÉª/ (CORRECT âœ“)
  "t"   â†’ /t/ (CORRECT âœ“)

grapheme_errors: {
  1: {
    type: "missed",
    phoneme: "n",
    grapheme: "n"
  }
}

Display:
  â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”
  â”‚ k â”‚ n â”‚ igh â”‚ t â”‚
  â”‚   â”‚ğŸ”´ â”‚     â”‚   â”‚  â† Red highlight on "n" only
  â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”˜
```

### Example 3: Multiple Errors

```
Word: "brown"
Expected: [/b/, /r/, /aÊŠ/, /n/]
Detected: [     /r/, /aÊŠ/, /n/, /d/]
           â†‘                     â†‘
         missed                added

Graphemes: ["b", "r", "ow", "n"]

Alignment:
  "b"  â†’ /b/ (MISSED âŒ)
  "r"  â†’ /r/ (CORRECT âœ“)
  "ow" â†’ /aÊŠ/ (CORRECT âœ“)
  "n"  â†’ /n/ (CORRECT âœ“)
  (phantom) â†’ /d/ (ADDED ğŸ‘»)

grapheme_errors: {
  0: {type: "missed", phoneme: "b", grapheme: "b"},
  -1: {type: "added", phoneme: "d", grapheme: null}
}

Display:
  â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”
  â”‚ b â”‚ r â”‚ ow â”‚ n â”‚ ?d â”‚
  â”‚ğŸ”´ â”‚   â”‚    â”‚   â”‚ ğŸ‘» â”‚  
  â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”€â”˜
   â†‘                  â†‘
  Red               Green dashed
  "Missed 'b'"      "Added 'd' sound"
```

---

## ğŸ¨ Color Coding System

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Error Type Color Scheme                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  ğŸ”´ MISSED (Red)                                â”‚
â”‚     Background: rgba(248, 113, 113, 0.3)       â”‚
â”‚     Use: Phoneme was expected but not detected â”‚
â”‚     Example: "b" in "brown" â†’ /b/ missed       â”‚
â”‚                                                 â”‚
â”‚  ğŸŸ  SUBSTITUTED (Orange)                        â”‚
â”‚     Background: rgba(251, 146, 60, 0.3)        â”‚
â”‚     Use: Wrong phoneme detected                â”‚
â”‚     Example: "ai" in "rain" â†’ /É›/ not /eÉª/    â”‚
â”‚                                                 â”‚
â”‚  ğŸ‘» ADDED (Green dashed)                        â”‚
â”‚     Border: 2px dashed rgb(134, 239, 172)      â”‚
â”‚     Opacity: 0.5                                â”‚
â”‚     Use: Extra phoneme detected                â”‚
â”‚     Example: /d/ sound added at end            â”‚
â”‚                                                 â”‚
â”‚  âœ“ CORRECT (No highlight)                      â”‚
â”‚     Background: transparent                     â”‚
â”‚     Use: Phoneme detected correctly            â”‚
â”‚     Example: "r" in "brown" â†’ /r/ correct      â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¬ User Interaction Flow

```
1. Practice Session
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Read: "The quick brown fox"â”‚
   â”‚ [ğŸ¤ Record]                â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“

2. Processing (backend)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Analyzing audio...         â”‚
   â”‚ â³ 1.5 seconds             â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“

3. Initial Display (word view)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”          â”‚
   â”‚ â”‚ The â”‚ quick â”‚ brown â”‚ fox â”‚          â”‚
   â”‚ â”‚     â”‚       â”‚  ğŸŸ    â”‚     â”‚  â† Color â”‚
   â”‚ â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜     codedâ”‚
   â”‚                                          â”‚
   â”‚ "Good job! Let's look closer..."        â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“

4. User Clicks "brown" word
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚      Hover to toggle views:             â”‚
   â”‚                                          â”‚
   â”‚ [ğŸ‘ï¸ Letter View] [ğŸ“ Whole Word]       â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“

5. Letter-Level View
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”               â”‚
   â”‚  â”‚ b â”‚ r â”‚ ow â”‚ n â”‚ ?d â”‚               â”‚
   â”‚  â”‚ğŸ”´ â”‚   â”‚    â”‚   â”‚ ğŸ‘» â”‚               â”‚
   â”‚  â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”€â”˜               â”‚
   â”‚   â†‘                  â†‘                  â”‚
   â”‚   Click 'b'         Click '?d'         â”‚
   â”‚   ğŸ”Š Hear /b/       ğŸ”Š Hear /d/        â”‚
   â”‚                                         â”‚
   â”‚ Tooltip: "You missed the 'b' sound     â”‚
   â”‚          Try saying 'b-r-own' slowly"  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“

6. Practice Individual Sound
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ ğŸ¯ Focus on the 'b' sound:              â”‚
   â”‚                                          â”‚
   â”‚ [ğŸ”Š Listen]  Press lips together        â”‚
   â”‚              and release with voice     â”‚
   â”‚                                          â”‚
   â”‚ [ğŸ¤ Try Again]                          â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§ª Test Case Visualization

### Test Case: "ship"

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ INPUT                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ word: "ship"                                    â”‚
â”‚ expected_phonemes: [/Êƒ/, /Éª/, /p/]            â”‚
â”‚ detected_phonemes: [     /Éª/, /p/]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 1: Segment to Graphemes                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ s-h-i-p                                         â”‚
â”‚ â””â”€â”˜           "sh" is digraph                   â”‚
â”‚ graphemes = ["sh", "i", "p"]                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 2: Map to Phonemes                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ["sh", "i",  "p"]                              â”‚
â”‚    â†“     â†“     â†“                                â”‚
â”‚  [/Êƒ/, /Éª/, /p/]                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 3: Detect Errors                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ expected: [/Êƒ/, /Éª/, /p/]                     â”‚
â”‚ detected: [     /Éª/, /p/]                     â”‚
â”‚                                                 â”‚
â”‚ errors:                                         â”‚
â”‚   missed = [/Êƒ/]  â† at position 0             â”‚
â”‚   added = []                                    â”‚
â”‚   substituted = []                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 4: Map Errors to Graphemes                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ missed [/Êƒ/] at phoneme position 0             â”‚
â”‚        â†“ maps to                                â”‚
â”‚ grapheme position 0 = "sh"                     â”‚
â”‚                                                 â”‚
â”‚ grapheme_errors = {                             â”‚
â”‚   0: {                                          â”‚
â”‚     type: "missed",                             â”‚
â”‚     phoneme: "Êƒ",                               â”‚
â”‚     grapheme: "sh"                              â”‚
â”‚   }                                             â”‚
â”‚ }                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OUTPUT (JSON to frontend)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ {                                               â”‚
â”‚   "ground_truth_word": "ship",                 â”‚
â”‚   "graphemes": ["sh", "i", "p"],              â”‚
â”‚   "grapheme_errors": {                          â”‚
â”‚     "0": {                                      â”‚
â”‚       "type": "missed",                         â”‚
â”‚       "phoneme": "Êƒ",                           â”‚
â”‚       "grapheme": "sh"                          â”‚
â”‚     }                                           â”‚
â”‚   }                                             â”‚
â”‚ }                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FRONTEND DISPLAY                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”                               â”‚
â”‚   â”‚ sh â”‚ i â”‚ p â”‚                               â”‚
â”‚   â”‚ ğŸ”´ â”‚   â”‚   â”‚                               â”‚
â”‚   â””â”€â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜                               â”‚
â”‚                                                 â”‚
â”‚   Tooltip: "You missed the 'sh' sound"        â”‚
â”‚   Click to hear: ğŸ”Š /Êƒ/                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ Educational Value

### Before (Word-Level Only)
```
Student sees:  "brown" [orange]
Student thinks: "Something is wrong with this word"
Confusion: "Is it the 'b'? The 'ow'? The 'n'?"
Action: âŒ Tries again randomly
```

### After (Letter-Level Feedback)
```
Student sees:  "bÌ²rown" ['b' is red]
Student thinks: "The 'b' sound is wrong"
Understanding: "I need to say the 'b' sound"
Action: âœ… Focuses on 'b' specifically
```

### Learning Outcomes

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Improved Learning with Letter-Level Feedback   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚ âœ… Direct letter-sound connection               â”‚
â”‚    "I see 'b', I should say /b/"               â”‚
â”‚                                                 â”‚
â”‚ âœ… Targeted practice                            â”‚
â”‚    Focus on specific problem sounds            â”‚
â”‚                                                 â”‚
â”‚ âœ… Reduced confusion                            â”‚
â”‚    No more guessing which part is wrong        â”‚
â”‚                                                 â”‚
â”‚ âœ… Faster improvement                           â”‚
â”‚    Practice the right thing, not random        â”‚
â”‚                                                 â”‚
â”‚ âœ… Phonemic awareness                           â”‚
â”‚    Understanding that words are made of sounds â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ Implementation Complexity

### Simple Cases (90% of words)
```
"cat", "dog", "run", "jump"
â†’ Simple 1:1 grapheme-phoneme mapping
â†’ Easy to segment
â†’ Fast processing
```

### Medium Cases (8% of words)
```
"ship", "rain", "light"
â†’ Digraphs, vowel teams
â†’ Requires pattern matching
â†’ Still predictable
```

### Complex Cases (2% of words)
```
"knight", "through", "queue"
â†’ Silent letters, irregular patterns
â†’ May need manual rules
â†’ Can fallback to word-level if needed
```

### 80/20 Rule Applied
```
Phase 1-3: Handle simple + medium cases (98%)
Phase 4-5: Handle complex cases (2%)
           â†’ Only if needed based on user testing
```

---

**Ready to implement? Start with the Quick Start guide!**

ğŸ‘‰ **[PHONEME_TO_GRAPHEME_README.md](./PHONEME_TO_GRAPHEME_README.md)**
